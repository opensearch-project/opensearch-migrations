// This file is auto-generated by @hey-api/openapi-ts

import type { Client, Options as Options2, TDataShape } from "./client";
import { client } from "./client.gen";
import {
  backfillStatusResponseTransformer,
  metadataMigrateResponseTransformer,
  metadataStatusResponseTransformer,
  sessionCreateResponseTransformer,
  sessionGetResponseTransformer,
  sessionsListResponseTransformer,
  sessionUpdateResponseTransformer,
  snapshotStatusResponseTransformer,
} from "./transformers.gen";
import type {
  BackfillPauseData,
  BackfillPauseErrors,
  BackfillPauseResponses,
  BackfillStartData,
  BackfillStartErrors,
  BackfillStartResponses,
  BackfillStatusData,
  BackfillStatusErrors,
  BackfillStatusResponses,
  BackfillStopData,
  BackfillStopErrors,
  BackfillStopResponses,
  ClusterSourceData,
  ClusterSourceErrors,
  ClusterSourceResponses,
  ClusterTargetData,
  ClusterTargetErrors,
  ClusterTargetResponses,
  MetadataMigrateData,
  MetadataMigrateErrors,
  MetadataMigrateResponses,
  MetadataStatusData,
  MetadataStatusErrors,
  MetadataStatusResponses,
  SessionCreateData,
  SessionCreateErrors,
  SessionCreateResponses,
  SessionDeleteData,
  SessionDeleteErrors,
  SessionDeleteResponses,
  SessionGetData,
  SessionGetErrors,
  SessionGetResponses,
  SessionsListData,
  SessionsListResponses,
  SessionUpdateData,
  SessionUpdateErrors,
  SessionUpdateResponses,
  SnapshotConfigData,
  SnapshotConfigErrors,
  SnapshotConfigResponses,
  SnapshotCreateData,
  SnapshotCreateErrors,
  SnapshotCreateResponses,
  SnapshotDeleteData,
  SnapshotDeleteErrors,
  SnapshotDeleteResponses,
  SnapshotIndexesData,
  SnapshotIndexesErrors,
  SnapshotIndexesResponses,
  SnapshotStatusData,
  SnapshotStatusErrors,
  SnapshotStatusResponses,
  SystemHealthData,
  SystemHealthResponses,
  VersionSystemVersionGetData,
  VersionSystemVersionGetResponses,
} from "./types.gen";

export type Options<
  TData extends TDataShape = TDataShape,
  ThrowOnError extends boolean = boolean,
> = Options2<TData, ThrowOnError> & {
  /**
   * You can provide a client instance returned by `createClient()` instead of
   * individual options. This might be also useful if you want to implement a
   * custom client.
   */
  client?: Client;
  /**
   * You can pass arbitrary values through the `meta` object. This can be
   * used to access values that aren't defined as part of the SDK function.
   */
  meta?: Record<string, unknown>;
};

/**
 * Health
 */
export const systemHealth = <ThrowOnError extends boolean = false>(
  options?: Options<SystemHealthData, ThrowOnError>,
) =>
  (options?.client ?? client).get<SystemHealthResponses, unknown, ThrowOnError>(
    { url: "/system/health", ...options },
  );

/**
 * Version
 */
export const versionSystemVersionGet = <ThrowOnError extends boolean = false>(
  options?: Options<VersionSystemVersionGetData, ThrowOnError>,
) =>
  (options?.client ?? client).get<
    VersionSystemVersionGetResponses,
    unknown,
    ThrowOnError
  >({ url: "/system/version", ...options });

/**
 * List Sessions
 */
export const sessionsList = <ThrowOnError extends boolean = false>(
  options?: Options<SessionsListData, ThrowOnError>,
) =>
  (options?.client ?? client).get<SessionsListResponses, unknown, ThrowOnError>(
    {
      responseTransformer: sessionsListResponseTransformer,
      url: "/sessions/",
      ...options,
    },
  );

/**
 * Create Session
 */
export const sessionCreate = <ThrowOnError extends boolean = false>(
  options: Options<SessionCreateData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    SessionCreateResponses,
    SessionCreateErrors,
    ThrowOnError
  >({
    responseTransformer: sessionCreateResponseTransformer,
    url: "/sessions/",
    ...options,
    headers: {
      "Content-Type": "application/json",
      ...options.headers,
    },
  });

/**
 * Delete Session
 */
export const sessionDelete = <ThrowOnError extends boolean = false>(
  options: Options<SessionDeleteData, ThrowOnError>,
) =>
  (options.client ?? client).delete<
    SessionDeleteResponses,
    SessionDeleteErrors,
    ThrowOnError
  >({ url: "/sessions/{session_name}", ...options });

/**
 * Single Session
 */
export const sessionGet = <ThrowOnError extends boolean = false>(
  options: Options<SessionGetData, ThrowOnError>,
) =>
  (options.client ?? client).get<
    SessionGetResponses,
    SessionGetErrors,
    ThrowOnError
  >({
    responseTransformer: sessionGetResponseTransformer,
    url: "/sessions/{session_name}",
    ...options,
  });

/**
 * Update Session
 */
export const sessionUpdate = <ThrowOnError extends boolean = false>(
  options: Options<SessionUpdateData, ThrowOnError>,
) =>
  (options.client ?? client).put<
    SessionUpdateResponses,
    SessionUpdateErrors,
    ThrowOnError
  >({
    responseTransformer: sessionUpdateResponseTransformer,
    url: "/sessions/{session_name}",
    ...options,
    headers: {
      "Content-Type": "application/json",
      ...options.headers,
    },
  });

/**
 * Get Snapshot Status
 */
export const snapshotStatus = <ThrowOnError extends boolean = false>(
  options: Options<SnapshotStatusData, ThrowOnError>,
) =>
  (options.client ?? client).get<
    SnapshotStatusResponses,
    SnapshotStatusErrors,
    ThrowOnError
  >({
    responseTransformer: snapshotStatusResponseTransformer,
    url: "/sessions/{session_name}/snapshot/status",
    ...options,
  });

/**
 * Get Snapshot Config
 */
export const snapshotConfig = <ThrowOnError extends boolean = false>(
  options: Options<SnapshotConfigData, ThrowOnError>,
) =>
  (options.client ?? client).get<
    SnapshotConfigResponses,
    SnapshotConfigErrors,
    ThrowOnError
  >({ url: "/sessions/{session_name}/snapshot/", ...options });

/**
 * Get Snapshot Indexes
 */
export const snapshotIndexes = <ThrowOnError extends boolean = false>(
  options: Options<SnapshotIndexesData, ThrowOnError>,
) =>
  (options.client ?? client).get<
    SnapshotIndexesResponses,
    SnapshotIndexesErrors,
    ThrowOnError
  >({ url: "/sessions/{session_name}/snapshot/indexes", ...options });

/**
 * Snapshot Create
 */
export const snapshotCreate = <ThrowOnError extends boolean = false>(
  options: Options<SnapshotCreateData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    SnapshotCreateResponses,
    SnapshotCreateErrors,
    ThrowOnError
  >({ url: "/sessions/{session_name}/snapshot/create", ...options });

/**
 * Snapshot Delete
 */
export const snapshotDelete = <ThrowOnError extends boolean = false>(
  options: Options<SnapshotDeleteData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    SnapshotDeleteResponses,
    SnapshotDeleteErrors,
    ThrowOnError
  >({ url: "/sessions/{session_name}/snapshot/delete", ...options });

/**
 * Migrate Metadata
 *
 * Migrate metadata for the given session.
 * If dry_run=True, only evaluates the migration without making changes.
 */
export const metadataMigrate = <ThrowOnError extends boolean = false>(
  options: Options<MetadataMigrateData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    MetadataMigrateResponses,
    MetadataMigrateErrors,
    ThrowOnError
  >({
    responseTransformer: metadataMigrateResponseTransformer,
    url: "/sessions/{session_name}/metadata/migrate",
    ...options,
    headers: {
      "Content-Type": "application/json",
      ...options.headers,
    },
  });

/**
 * Get Metadata Status
 *
 * Get the status of the most recent metadata operation for the session.
 */
export const metadataStatus = <ThrowOnError extends boolean = false>(
  options: Options<MetadataStatusData, ThrowOnError>,
) =>
  (options.client ?? client).get<
    MetadataStatusResponses,
    MetadataStatusErrors,
    ThrowOnError
  >({
    responseTransformer: metadataStatusResponseTransformer,
    url: "/sessions/{session_name}/metadata/status",
    ...options,
  });

/**
 * Get Backfill Status
 */
export const backfillStatus = <ThrowOnError extends boolean = false>(
  options: Options<BackfillStatusData, ThrowOnError>,
) =>
  (options.client ?? client).get<
    BackfillStatusResponses,
    BackfillStatusErrors,
    ThrowOnError
  >({
    responseTransformer: backfillStatusResponseTransformer,
    url: "/sessions/{session_name}/backfill/status",
    ...options,
  });

/**
 * Start Backfill
 */
export const backfillStart = <ThrowOnError extends boolean = false>(
  options: Options<BackfillStartData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    BackfillStartResponses,
    BackfillStartErrors,
    ThrowOnError
  >({ url: "/sessions/{session_name}/backfill/start", ...options });

/**
 * Pause Backfill
 */
export const backfillPause = <ThrowOnError extends boolean = false>(
  options: Options<BackfillPauseData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    BackfillPauseResponses,
    BackfillPauseErrors,
    ThrowOnError
  >({ url: "/sessions/{session_name}/backfill/pause", ...options });

/**
 * Stop Backfill
 */
export const backfillStop = <ThrowOnError extends boolean = false>(
  options: Options<BackfillStopData, ThrowOnError>,
) =>
  (options.client ?? client).post<
    BackfillStopResponses,
    BackfillStopErrors,
    ThrowOnError
  >({ url: "/sessions/{session_name}/backfill/stop", ...options });

/**
 * Get Source Cluster
 */
export const clusterSource = <ThrowOnError extends boolean = false>(
  options: Options<ClusterSourceData, ThrowOnError>,
) =>
  (options.client ?? client).get<
    ClusterSourceResponses,
    ClusterSourceErrors,
    ThrowOnError
  >({ url: "/sessions/{session_name}/clusters/source", ...options });

/**
 * Get Target Cluster
 */
export const clusterTarget = <ThrowOnError extends boolean = false>(
  options: Options<ClusterTargetData, ThrowOnError>,
) =>
  (options.client ?? client).get<
    ClusterTargetResponses,
    ClusterTargetErrors,
    ThrowOnError
  >({ url: "/sessions/{session_name}/clusters/target", ...options });
