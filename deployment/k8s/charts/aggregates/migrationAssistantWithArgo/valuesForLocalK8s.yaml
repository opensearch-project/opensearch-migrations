# Development-specific values for local kubernetes environments

conditionalPackageInstalls:
  kyverno: true

# Kyverno policy toggles (requires kyverno to be installed)
kyvernoPolicies:
  zeroResourceRequests: true
  mountLocalAwsCreds: false
  mountLocalAwsCredsPath: "~/.aws"

# Override image pull policy for dev - always pull latest
images:
  captureProxy:
    repository: localhost:5000/migrations/capture_proxy
    pullPolicy: Always
  trafficReplayer:
    repository: localhost:5000/migrations/traffic_replayer
    pullPolicy: Always
  reindexFromSnapshot:
    repository: localhost:5000/migrations/reindex_from_snapshot
    pullPolicy: Always
  migrationConsole:
    repository: localhost:5000/migrations/migration_console
    pullPolicy: Always
  installer:
    repository: localhost:5000/migrations/migration_console
    pullPolicy: Always

# Kyverno chart configuration
charts:
  kyverno:
    version: "3.5.2"
    repository: "https://kyverno.github.io/kyverno/"
    values:
      admissionController:
        replicas: 1
      backgroundController:
        replicas: 1
      cleanupController:
        replicas: 1
      reportsController:
        replicas: 1
