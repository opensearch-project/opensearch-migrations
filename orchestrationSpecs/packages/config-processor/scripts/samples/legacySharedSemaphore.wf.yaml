# Legacy ES version: two snapshots share a single semaphore key per source
sourceClusters:
  legacySource:
    endpoint: "https://elasticsearch-master-headless:9200"
    allowInsecure: true
    version: "ES 5.6.0"
    authConfig:
      basic:
        secretName: "source-creds"
    snapshotInfo:
      repos:
        default:
          awsRegion: "us-east-2"
          endpoint: "http://10.99.62.203:4566"
          s3RepoPathUri: "s3://migrations-default-123456789012-dev-us-east-2"
      snapshots:
        s1:
          config:
            createSnapshotConfig: {}
            requiredForCompleteMigration: true
          repoName: "default"
        s2:
          config:
            createSnapshotConfig: {}
            requiredForCompleteMigration: true
          repoName: "default"

targetClusters:
  target:
    endpoint: "https://opensearch-cluster-master-headless:9200"
    allowInsecure: true
    version: "OS 2.11"
    authConfig:
      basic:
        secretName: "target-creds"

snapshotMigrationConfigs:
  - fromSource: "legacySource"
    toTarget: "target"
    perSnapshotConfig:
      s1:
        - metadataMigrationConfig: {}
      s2:
        - documentBackfillConfig: {}

traffic:
  proxies: {}
  replayers: {}
